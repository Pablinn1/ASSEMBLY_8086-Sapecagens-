
ORG 100H

JMP START

VAR1 DB 4, 0, 4 DUP ('$')
VAR2 DB 4, 0, 4 DUP ('$')
LIN  DB 0AH,0AH, 0DH, 24H 

START:

MOV DX, OFFSET [VAR1] 

MOV DI, OFFSET [VAR1]

CALL GET_VAR

;;;;;;;;;;;;;;;;;;;;;;

TEST_VAR: 

MOV AL, [DI+1]

CMP AL, 3

JE TRAT_VAR1

CMP AL, 2

JE TRAT_VAR2

CMP AL, 1

JE TRAT_VAR3


GET_VAR:

MOV AH, 0AH
INT 21H
RET

TRAT_VAR1:

MOV DI, OFFSET [VAR1+2]

MOV AL, [DI] 
SUB AL, 30H
MOV BL, 100
MUL BL

MOV CH, AL

MOV AL, [DI+1]
SUB AL, 30H
MOV BL, 10
MUL BL

MOV CL, AL

MOV AL, [DI+2]
SUB AL, 30H
MOV BL, 1
MUL BL

MOV DL, AL

ADD CH, CL
ADD CH, DL 
 
JMP FIM

TRAT_VAR2:

MOV DI, OFFSET [VAR1+2]

MOV AL, [DI]
SUB AL, 30H
MOV BL, 10
MUL BL

MOV CL, AL

MOV AL, [DI+1]
SUB AL, 30H
MOV BL, 1
MUL BL

MOV DH, AL

ADD CH, CL

JMP FIM

TRAT_VAR3:

MOV DI, OFFSET [VAR1+2]

MOV AL, [DI]
SUB AL, 30H
MOV BL, 1
MUL BL

MOV CH, AL



JMP FIM

FIM:

END
